import{r as o,q as j,W as p,j as e,y as b}from"./app-DoPl5lFM.js";import{T as N}from"./TextInput-B2uDKCmh.js";import{I as v}from"./InputLabel-C-Tz_r5K.js";import{P as l}from"./PrimaryButton-s6j7ElbD.js";import{I as y}from"./InputError-ByfgtF5w.js";import{S}from"./sweetalert2.esm.all-9Qm2jZ7z.js";function q({auth:w,step:a,onClose:r=()=>{}}){const c=o.useRef(null),t=j().props.errors,{data:m,setData:n,post:d,patch:u,processing:x}=p({name:""});o.useEffect(()=>{a!=null&&a.id&&f(a)},[]);const f=s=>{n({name:s.name})},g=s=>{s.preventDefault(),a!=null&&a.id?u(route("step.update",{stepId:a.id}),{onSuccess:()=>i()}):d(route("step.store"),{onSuccess:()=>i()})},i=()=>{let s=a!=null&&a.id?"modificada":"agregada";S.fire({title:"Exito",text:"Etapa "+s+" exitosamente",icon:"success",confirmButtonText:"Continuar"}).then(h=>{h.isConfirmed&&(r(),b.reload())})};return e.jsxs("div",{className:"p-5",children:[e.jsxs("p",{className:"font-bold text-lg",children:[a!=null&&a.id?"Modificar":"Agregar"," etapa"]}),e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{class:"bg-white shadow-sm rounded-lg",children:e.jsx("div",{className:"grid gap-4 mb-4",children:e.jsxs("div",{className:"w-full md:col-span-1 sm:col-span-3 my-4",children:[e.jsx(v,{value:"Nombre de la etapa"}),e.jsx(N,{type:"text",className:"w-full",placeholder:"",name:"name",value:m.name,required:!0,onChange:s=>n(s.target.name,s.target.value)}),t!=null&&t.name?e.jsx(y,{message:t.name}):""]})})}),e.jsxs("div",{className:"flex gap-4 justify-end mt-4",children:[e.jsx(l,{type:"reset",onClick:()=>{r()},className:"gray bg-gray-800",children:"Cancelar"}),e.jsx(l,{className:"bg-orange-600",disabled:x,children:"Guardar"}),e.jsx("button",{type:"reset",className:"hidden",ref:c,children:"reset"})]})]})})]})}export{q as default};
