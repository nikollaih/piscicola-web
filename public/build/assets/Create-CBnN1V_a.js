import{r,q as h,W as C,j as e,a as S,d as _}from"./app-DoPl5lFM.js";import{A as q}from"./AuthenticatedLayout-BAzWT1Pc.js";import{T as o}from"./TextInput-B2uDKCmh.js";import{I as m}from"./InputLabel-C-Tz_r5K.js";import"./Dropdown-C-i2qCtQ.js";import{P as f}from"./PrimaryButton-s6j7ElbD.js";import{I as c}from"./InputError-ByfgtF5w.js";import{A as I}from"./AlertMessage-CubBamYp.js";import"./moment-C5S46NFB.js";import"./TextArea-BytP4p67.js";import"./SR-BoSPAYsv.js";import"./transition-YMyy0hwJ.js";function J({auth:g,association:R}){var x;const d=r.useRef(null),a=h().props.errors,l=h().props,{data:n,setData:t,post:j,patch:v,reset:b,processing:N}=C({name:"",email:"",mobile_phone:"",phone:"",address:""}),[w,u]=r.useState("");r.useEffect(()=>{var s;(s=l==null?void 0:l.association)!=null&&s.id&&y(l.association)},[]);const y=s=>{t({name:s.name,email:s.email,mobile_phone:s.mobile_phone,phone:s.phone,address:s.address})},A=s=>{var i;s.preventDefault(),(i=l==null?void 0:l.association)!=null&&i.id?v(l.formActionUrl,{onSuccess:()=>p()}):j(l.formActionUrl,{onSuccess:()=>p()})},p=()=>{var i;let s="modificada";(i=l==null?void 0:l.association)!=null&&i.id||(b(),s="agregada"),u("La asociación fue "+s+" satisfactoriamente"),d.current.click()};return e.jsxs(q,{user:g.user,header:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:[(x=l==null?void 0:l.association)!=null&&x.id?"Modificar":"Agregar"," asociación"]}),children:[e.jsx(S,{title:"Asociación"}),e.jsx("div",{className:"py-12",children:e.jsx("form",{onSubmit:A,children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-4 lg:px-4",children:[e.jsx(I,{title:w,onClose:()=>u("")}),e.jsx("div",{class:"bg-white shadow-sm rounded-lg p-5",children:e.jsxs("div",{className:"grid md:grid-cols-3 sm:grid-cols-1 gap-4 xs:grid-cols-1 mb-4",children:[e.jsxs("div",{className:"w-full md:col-span-1 sm:col-span-3",children:[e.jsx(m,{value:"Nombre"}),e.jsx(o,{type:"text",className:"w-full",placeholder:"",name:"name",value:n.name,required:!0,onChange:s=>t(s.target.name,s.target.value)}),a!=null&&a.name?e.jsx(c,{message:a.name}):""]}),e.jsxs("div",{className:"w-full md:col-span-1 sm:col-span-3",children:[e.jsx(m,{value:"Celular"}),e.jsx(o,{type:"number",className:"w-full",placeholder:"",name:"mobile_phone",value:n.mobile_phone,required:!0,onChange:s=>t(s.target.name,s.target.value)}),a!=null&&a.mobile_phone?e.jsx(c,{message:a.mobile_phone}):""]}),e.jsxs("div",{className:"w-full md:col-span-1 sm:col-span-3",children:[e.jsx(m,{value:"Teléfono"}),e.jsx(o,{type:"number",className:"w-full",placeholder:"",name:"phone",value:n.phone,onChange:s=>t(s.target.name,s.target.value)}),a!=null&&a.phone?e.jsx(c,{message:a.phone}):""]}),e.jsxs("div",{className:"w-full md:col-span-1 sm:col-span-3",children:[e.jsx(m,{value:"Correo electrónico"}),e.jsx(o,{type:"email",className:"w-full",placeholder:"",name:"email",value:n.email,required:!0,onChange:s=>t(s.target.name,s.target.value)}),a!=null&&a.email?e.jsx(c,{message:a.email}):""]}),e.jsxs("div",{className:"w-full md:col-span-2 sm:col-span-3",children:[e.jsx(m,{value:"Dirección"}),e.jsx(o,{type:"text",className:"w-full",placeholder:"",name:"address",value:n.address,required:!0,onChange:s=>t(s.target.name,s.target.value)}),a!=null&&a.address?e.jsx(c,{message:a.address}):""]})]})}),e.jsxs("div",{className:"flex gap-4 justify-end mt-4",children:[e.jsx(_,{href:route("associations"),children:e.jsx(f,{className:"gray bg-gray-800",children:"Regresar"})}),e.jsx(f,{className:"bg-orange-600",disabled:N,children:"Guardar"}),e.jsx("button",{type:"reset",className:"hidden",ref:d,children:"reset"})]})]})})})]})}export{J as default};
