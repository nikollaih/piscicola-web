import{q as x,r as f,j as e,a as u,d as p,y as h}from"./app-DoPl5lFM.js";import{A as g}from"./AuthenticatedLayout-BAzWT1Pc.js";import{P as j}from"./Pagination-BdAY7jD4.js";import A from"./Item-_INNqzAp.js";import{P as y}from"./PrimaryButton-s6j7ElbD.js";import{d as w}from"./Services-CsS_QnhK.js";import{S as i}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import"./SR-BoSPAYsv.js";import"./Dropdown-C-i2qCtQ.js";import"./transition-YMyy0hwJ.js";function T({auth:n,associations:a}){let c=x();f.useEffect(()=>{},[]);const l=s=>{const{name:t,id:r}=s;i.fire({title:"¿Estás seguro(a)?",text:`¿Deseas eliminar la asociación "${t}"?`,showCancelButton:!0,confirmButtonColor:"#dd2627",cancelButtonColor:"#1f2937",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&m(r)})},m=async s=>{try{const t=await w(route("association.delete",{associationId:s}),c.props.csrfToken),r=await t.json();if(t.ok)i.fire({title:"Exito",text:r.msg,icon:"success",confirmButtonText:"Continuar"}).then(o=>{o.isConfirmed&&h.reload()});else throw new Error(r.msg||"Failed to delete user.")}catch(t){i.fire({title:"Error",text:t,icon:"error"})}},d=()=>a.data.map(s=>e.jsx(A,{association:s,onDelete:l}));return e.jsxs(g,{user:n.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Asociaciones"}),children:[e.jsx(u,{title:"Asociaciones"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-4 lg:px-4",children:[e.jsx("div",{className:"flex mb-4 justify-end",children:e.jsx(p,{href:route("association.create"),children:e.jsx(y,{className:"bg-orange-600 h-10",children:"Agregar"})})}),e.jsx("div",{className:"grid grid-cols-4 border border-dashed border-gray-200 rounded-lg gap-4 p-1",children:d()}),e.jsx(j,{class:"mt-6",links:a.links})]})})]})}export{T as default};
