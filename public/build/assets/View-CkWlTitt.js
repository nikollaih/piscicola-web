import{q as h,r as l,j as e,a as g,y as j}from"./app-DoPl5lFM.js";import{A as v}from"./AuthenticatedLayout-BAzWT1Pc.js";import{D as w}from"./DangerButton-DhPpG_xO.js";import E from"./UserEvents-C68ns8Gs.js";import N from"./UserInformation-BL9-NuTH.js";import{S as n}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{d as C}from"./Services-CsS_QnhK.js";import"./SR-BoSPAYsv.js";import"./Dropdown-C-i2qCtQ.js";import"./transition-YMyy0hwJ.js";import"./Event-_dQS0kx5.js";import"./Empty-DME2eeBf.js";function _({auth:d,user:s,loggedUser:a,envRoles:c}){let{ROLE_ADMIN_LAYER:m}=c,u=h();const[x,y]=l.useState([{},{},{}]);l.useEffect(()=>{},[]);const f=o=>{const{name:r,id:t}=o;n.fire({title:"¿Estás seguro(a)?",text:`¿Deseas eliminar el usuario ${r.toUpperCase()}?`,showCancelButton:!0,confirmButtonColor:"#dd2627",cancelButtonColor:"#1f2937",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&p(t)})},p=async o=>{try{const r=await C(route("user.delete",{userId:o}),u.props.csrfToken),t=await r.json();if(r.ok)n.fire({title:"Exito",text:t.msg,icon:"success",confirmButtonText:"Continuar"}).then(i=>{i.isConfirmed&&j.visit(route("users"))});else throw new Error(t.msg||"Failed to delete user.")}catch(r){n.fire({title:"Error",text:r.message||"An unexpected error occurred.",icon:"error"})}};return e.jsxs(v,{user:d.user,header:e.jsx("div",{className:"flex items-center",children:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:s.name.toUpperCase()})}),children:[e.jsx(g,{title:"Useres"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-4 lg:px-4",children:[e.jsxs("div",{className:"grid-cols-2 grid gap-4",children:[e.jsx("div",{className:"bg-white overflow-hidden rounded-lg p-5 shadow-md",children:e.jsx(N,{user:s})}),e.jsx("div",{className:"bg-white overflow-hidden rounded-lg p-5 shadow-md",children:e.jsx(E,{events:x})})]}),a.role.rol===m&&s.id!==a.id?e.jsxs("div",{className:"bg-white overflow-hidden rounded-lg p-5 shadow-md mt-5",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Eliminar usuario"}),e.jsx("p",{className:"mt-1 text-gray-600 mb-4",children:"Una vez que se elimine la cuenta, todos sus recursos y datos se borrarán permanentemente. Antes de eliminar tu cuenta, por favor descarga cualquier dato o información que desees conservar."})]}),e.jsx(w,{onClick:()=>{f(s)},children:"Eliminar"})]}):null]})})]})}export{_ as default};
