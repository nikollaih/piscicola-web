import{r as d,q as h,W as S,j as e,d as y}from"./app-DoPl5lFM.js";import{T as m}from"./TextInput-B2uDKCmh.js";import{I as t}from"./InputLabel-C-Tz_r5K.js";import{P as f}from"./PrimaryButton-s6j7ElbD.js";import{I as r}from"./InputError-ByfgtF5w.js";import{A}from"./AlertMessage-CubBamYp.js";function U({partyRoleId:u,party:i}){const g=d.useRef(null),a=h().props.errors,l=h().props,{data:n,setData:o,post:j,patch:v,reset:b,processing:_}=S({document:null,name:"",mobile_phone:null,home_phone:null,office_phone:null,email:"",notes:"",party_role_id:u}),[N,x]=d.useState("");d.useEffect(()=>{i!=null&&i.id&&w(i)},[]);const w=s=>{o({document:s.document,name:s.name,mobile_phone:s.mobile_phone,home_phone:s.home_phone,office_phone:s.office_phone,email:s.email,notes:s.notes,party_role_id:s.party_role_id})},C=s=>{var c;s.preventDefault(),(c=l==null?void 0:l.party)!=null&&c.id?v(l.formActionUrl,{onSuccess:()=>p()}):j(l.formActionUrl,{onSuccess:()=>p()})},p=()=>{var c;let s="modificada";(c=l==null?void 0:l.party)!=null&&c.id||(b(),s="agregada"),x("La persona fue "+s+" satisfactoriamente"),g.current.click()};return e.jsx("form",{onSubmit:C,children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-4 lg:px-4",children:[e.jsx(A,{title:N,onClose:()=>x("")}),e.jsxs("div",{class:"bg-white shadow-sm rounded-lg p-5",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 xs:grid-cols-1 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(t,{value:"Documento"}),e.jsx(m,{type:"number",className:"w-full",placeholder:"123456789",name:"document",value:n.document,onChange:s=>o(s.target.name,s.target.value)}),a!=null&&a.document?e.jsx(r,{message:a.document}):""]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(t,{value:"Nombre completo"}),e.jsx(m,{type:"text",name:"name",className:"w-full",value:n.name,onChange:s=>o(s.target.name,s.target.value.toUpperCase())}),a!=null&&a.name?e.jsx(r,{message:a.name}):""]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 xs:grid-cols-1 mb-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(t,{value:"Celular"}),e.jsx(m,{type:"number",name:"mobile_phone",className:"w-full",placeholder:"123456789",value:n.mobile_phone,onChange:s=>o(s.target.name,s.target.value)}),a!=null&&a.mobile_phone?e.jsx(r,{message:a.mobile_phone}):""]}),e.jsxs("div",{children:[e.jsx(t,{value:"Teléfono casa (Opcional)"}),e.jsx(m,{type:"number",name:"home_phone",className:"w-full",placeholder:"123456789",value:n.home_phone,onChange:s=>o(s.target.name,s.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Teléfono oficina (Opcional)"}),e.jsx(m,{type:"number",name:"office_phone",className:"w-full",placeholder:"123456789",value:n.office_phone,onChange:s=>o(s.target.name,s.target.value)})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4 xs:grid-cols-1 mb-4",children:e.jsxs("div",{className:"w-full col-span-3",children:[e.jsx(t,{value:"Correo electrónico"}),e.jsx(m,{type:"email",name:"email",className:"w-full",placeholder:"johndoe@example.com",value:n.email,onChange:s=>o(s.target.name,s.target.value)}),a!=null&&a.email?e.jsx(r,{message:a.email}):""]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 xs:grid-cols-1 mb-4",children:[e.jsx(t,{value:"Notas (Opcional)"}),e.jsx("textarea",{onChange:s=>o(s.target.name,s.target.value),name:"notes",className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",cols:"30",rows:"5",value:n.notes})]})]}),e.jsxs("div",{className:"flex gap-4 justify-end mt-4",children:[e.jsx(y,{href:route("parties",{partyRoleId:u}),children:e.jsx(f,{className:"gray bg-gray-800",children:"Regresar"})}),e.jsx(f,{className:"bg-orange-500",disabled:_,children:"Guardar"}),e.jsx("button",{type:"reset",className:"hidden",ref:g,children:"reset"})]})]})})}export{U as default};
